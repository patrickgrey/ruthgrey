/*

Version     2.0.3

2.0.3 Date:       1 Dec 2016

*/
var iansGASharedCode=function(){"use strict";var e,t={},o="UA-56451040-1",r="none",n="none",s="none",a="nolms",i="bypages",c="unknown",u="unknown",d=0,l=0,g="1",m={hasError:!1,errorMessage:""};!function(e,t,o,r,n,s,a){e.GoogleAnalyticsObject=n,e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},e[n].l=1*new Date,s=t.createElement(o),a=t.getElementsByTagName(o)[0],s.async=1,s.src=r,a.parentNode.insertBefore(s,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create",o,"auto"),t.supportsLocalStorage=function(){var e=new Date;try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}},t.supportsCookies=function(){try{if(navigator.cookieEnabled)return!0;document.cookie="cookietest=1";var e=document.cookie.indexOf("cookietest=")!=-1;return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}},t.initLocalStorage=function(){t.supportsLocalStorage()?e=window.localStorage:!t.supportsLocalStorage()&&window.localStorageFallback&&t.supportsCookies()&&(e=window.localStorageFallback)},function(e){window.localStorage||(window.localStorageFallback={getItem:function(e){return e&&this.hasOwnProperty(e)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(e){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e])},setItem:function(e,t){e&&(document.cookie=escape(e)+"="+escape(t)+"; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(e){e&&this.hasOwnProperty(e)&&(document.cookie=escape(e)+"=; path=/",this.length--)},hasOwnProperty:function(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},window.localStorageFallback.length=(document.cookie.match(/\=/g)||window.localStorageFallback).length),e.initLocalStorage()}(t),t.setModuleCode=function(t){return t.toUpperCase(),r=t,!!e&&(null!==e.getItem("iansGASharedCodeModuleCode")?r!=e.getItem("iansGASharedCodeModuleCode")&&(e.setItem("iansGASharedCodeModuleCode",r),!0):(e.setItem("iansGASharedCodeModuleCode",r),!1))},t.getModuleCode=function(){return r},t.setSubModule=function(e){n=e},t.getSubModule=function(){return n},t.setPageMetadata=function(e){s=e},t.getPageMetadata=function(){return s},t.setAccessType=function(e){"lms"!=e.toLowerCase()&&"nolms"!=e.toLowerCase()&&"trailer"!=e.toLowerCase()&&(m.hasError=!0,m.errorMessage+='The access type parameter does not contain a permitted value ("lms", "nolms" or "trailer"): '+e+". "),a=e},t.getAccessType=function(){return a},t.setTrackingLevel=function(e){"bypages"!=e.toLowerCase()&&"bytopics"!=e.toLowerCase()&&"toolsdb"!=e.toLowerCase()&&(m.hasError=!0,m.errorMessage+='The tracking level parameter does not contain a permitted value ("bypages", "bytopics" or "toolsdb"): '+e+". "),i=e},t.getTrackingLevel=function(){return i},t.setCourseMode=function(e){c=e},t.getCourseMode=function(){return c},t.setCourseProvider=function(e){u=e},t.getCourseProvider=function(){return u},t.setCourseStarts=function(e){0!==e&&1!==e&&(m.hasError=!0,m.errorMessage+="The course starts parameter does not contain a permitted value (0 or 1): "+e+". "),d=e},t.getCourseStarts=function(){return d},t.setFirstVisits=function(e){0!==e&&1!==e&&(m.hasError=!0,m.errorMessage+="The first visits parameter does not contain a permitted value (0 or 1): "+e+". "),l=e},t.getFirstVisits=function(){return l};var p=function(o){if(!e)return t.setFirstVisits(0),!1;if(e.getItem("iansGASharedCodeFirstVisit"+g)){var r=JSON.parse(e.getItem("iansGASharedCodeFirstVisit"+g));return r[o]===o?(t.setFirstVisits(0),!1):(r[o]=o,e.setItem("iansGASharedCodeFirstVisit"+g,JSON.stringify(r)),t.setFirstVisits(1),!0)}var n={};return n[o]=o,e.setItem("iansGASharedCodeFirstVisit"+g,JSON.stringify(n)),t.setFirstVisits(1),!0},f=function(){ga("set","dimension1",t.getModuleCode()),ga("set","dimension2",t.getSubModule()),ga("set","dimension3",t.getPageMetadata()),ga("set","dimension4",t.getAccessType()),ga("set","dimension5",t.getTrackingLevel()),ga("set","dimension6",t.getCourseMode()),ga("set","dimension7",t.getCourseProvider()),ga("set","metric1",t.getFirstVisits()),ga("set","metric2",t.getCourseStarts())};return t.generateData=function(e,o,r,n,s,i,c,u,d){function l(){var e={};if(""!==document.cookie){var t=document.cookie.split("; ");for(var o in t){var r=t[o].split("=");e[r[0]]=r[1]}}return e}m={hasError:!1,errorMessage:""},arguments.length<5&&(m.hasError=!0,m.errorMessage+="A parameter is missing. ");var g=t.setModuleCode(e);t.setSubModule(o),t.setPageMetadata(r),t.setAccessType(n),t.setTrackingLevel(s);var h;if(i)t.setCourseMode(i);else{h=l();var w=h["_ILPcourseMode_"+e+"_"+a];w&&t.setCourseMode(w)}if(c)t.setCourseProvider(c);else{h||(h=l());var C=h["_ILPcourseProvider_"+e+"_"+a];C&&t.setCourseProvider(C)}if(d?t.setCourseStarts(d):t.setCourseStarts(0),void 0!==u&&t.setFirstVisits(u),m.hasError)throw new Error(m.errorMessage);void 0===u&&p(t.getModuleCode()),f(),g?ga("send","pageview",{sessionControl:"start"}):ga("send","pageview")},t.detectIframeUpdate=function(e,o,r,n,s,a,i,c,u,d,l){function g(){if(b!==y.contentWindow.location.pathname){b=y.contentWindow.location.pathname;var e=y.contentDocument.title.toString();e||(e=decodeURI(y.contentWindow.location.pathname),e=e.substr(e.lastIndexOf("/")+1)),k.title=e,t.generateData(m,p,f+" > "+e,h,w,C,v,S,M),S=0,M=0}}var m=r,p=n,f=s,h=a,w=i,C=c,v=u,S=d,M=l,k=e,y=k.getElementById(o),b=null;y.onload=g,y.src===y.contentWindow.location.href&&"complete"===y.contentWindow.document.readyState&&g()},window.addEventListener("beforeunload",function(e){ga("set","metric1",0),ga("set","metric2",0),ga("send","event","pageUnload","pageExit","page exit",1)}),t}();